{% extends "layout.html" %}

{% block main %}

<div class="off-canvas-wrapper">
    <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper>

        {% if current_user.is_authenticated %}
        <form action="" name="profile" method="post" enctype="multipart/form-data">
            <input type="hidden" name="user_id" value="{{ user.user_id }}" />
        {% endif %}

        <div class="off-canvas position-left reveal-for-large" id="my-info" data-off-canvas data-position="left">
            <div class="row column">
                <br>
                <img class="thumbnail" src="{% if user.picture.url %}{{ user.picture.url }}{% else %}http://placehold.it/550x550{% endif %}" style="border-radius: 50%">

                <h4 class="text-headline">{{ user.fullname }}</h4>

                <p>{{ user.address }}</p>
            </div>
        </div>
        <div class="off-canvas-content" data-off-canvas-content>
            <!-- navigation -->
            <nav class="top-bar">
                <div class="top-bar-left">
                    <ul class="dropdown menu" role="menubar">
                      <li class="menu-text text-headline" role="menuitem">LeapFrog Academy</li>
                    </ul>
                </div>
                <div class="top-bar-right">
                  <ul class="menu">
                    <li class="menu-text" tabindex="0">
                        {% if current_user.is_authenticated %}
                            Welcome, {{ current_user.username }}
                            (<a href="#" tabindex="-1" style="display:inline">Logout</a>)
                        {% else %}
                            Welcome, Guest (<a href="#" tabindex="-1" style="display:inline">Login</a>)
                        {% endif %}
                    </li>
                  </ul>
                </div>
            </nav>
            <!-- //navigation -->

            <div class="title-bar hide-for-large">
                <div class="title-bar-left">
                    <button class="menu-icon" type="button" data-open="my-info"></button>
                    <span class="title-bar-title">{{ user.fullname }}</span>
                </div>
            </div>
            <div class="row column medium-12">
                <div class="row column medium-8">
                    <!--<h1>Portforlio section</h1>-->
                    <h4 class="text-title"><i class="zmdi zmdi-check"></i> Key Skills: </h4>
                    {% for skill in user.key_skills_aslist %}
                    <span class="label primary">{{ skill }}</span>
                    {% endfor %}

                    <hr/>

                    <h4 class="text-title"><i class="zmdi zmdi-check"></i> Additional Skills: </h4>
                    {% for skill in user.additional_skills_aslist %}
                    <span class="label secondary">Docker</span>
                    {% endfor %}

                    <hr/>

                    <h4 class="text-title"><i class="zmdi zmdi-account"></i> About Me</h4>
                    <span>{{ user.about }}</span>

                    <hr/>
                </div>
            </div>
            <div class="row column">
                <!-- this is where sections comeup -->
                <div class="medium-12">
                    <div class="section row column medium-8">
                        <h4 class="text-title"><i class="zmdi zmdi-linkedin"></i> LinkedIn</h4>
                        <script src="//platform.linkedin.com/in.js" type="text/javascript"></script>
                        <script type="IN/MemberProfile" data-id="{{ user.linkedin_profile }}" data-format="inline" data-related="false"></script>

                    </div>
                    <hr>

                    <div class="section row column medium-8">
                        <h4 class="text-title"><i class="zmdi zmdi-github"></i> Github</h4>
                        <div class="orbit" role="region" aria-label="Projects" data-orbit data-use-m-u-i="false">
                            <ul class="orbit-container">
                                <button class="orbit-previous" aria-label="previous">
                                    <span class="show-for-sr">Previous Slide</span>&#9664;
                                </button>
                                <button class="orbit-next" aria-label="next">
                                    <span class="show-for-sr">Next Slide</span>&#9654;
                                </button>

                                {% for username, project in user.github_projects_aslist %}
                                <li class="{% if loop.index == 1 %}is-active{% endif %} orbit-slide">
                                    <div class="github-card" data-user="{{ username }}" data-repo="{{ project }}">
                                    </div>
                                </li>
                                {% endfor %}
                            </ul>

                            <nav class="orbit-bullets">
                            {% for item in user.github_projects_aslist %}
                                <button {% if loop.index0 == 0 %}class="is-active"{% endif %} data-slide="{{ loop.index0 }}">
                                    <span class="show-for-sr"></span>
                                </button>
                                {% endfor %}
                            </nav>
                        </div>

                    </div>

                    <hr>
                    <div class="section row column medium-8">
                        <h4 class="text-title"><i class="zmdi zmdi-slideshare"></i> Slideshare </h4>
                        <div class="orbit" role="region" aria-label="Slides" data-orbit data-use-m-u-i="false">
                            <ul class="orbit-container">
                                <button class="orbit-previous" aria-label="previous">
                                    <span class="show-for-sr">Previous Slide</span>&#9664;
                                </button>
                                <button class="orbit-next" aria-label="next">
                                    <span class="show-for-sr">Next Slide</span>&#9654;
                                </button>

                                {% for slide in user.slideshare_links_aslist %}
                                <li class="{% if loop.index == 1%}is-active{% endif %} orbit-slide">
                                    <div class="flex-video">
                                        <iframe src="//{{ slide }}" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe>
                                    </div>
                                </li>
                                {% endfor %}

                            </ul>
                            <nav class="orbit-bullets">
                                {% for item in user.slideshare_links_aslist %}
                                <button {% if loop.index0 == 0 %}class="is-active"{% endif %} data-slide="{{ loop.index0 }}">
                                    <span class="show-for-sr"></span>
                                </button>
                                {% endfor %}
                            </nav>
                        </div>

                    </div>

                    <hr>
                    <div class="section row column medium-8">
                        <h4 class="text-title"><i class="zmdi zmdi-youtube"></i> Youtube </h4>
                        <div class="orbit" role="region" aria-label="Youtube" data-orbit data-use-m-u-i="false">
                            <ul class="orbit-container">
                                <button class="orbit-previous" aria-label="previous">
                                    <span class="show-for-sr">Previous Slide</span>&#9664;
                                </button>
                                <button class="orbit-next" aria-label="next">
                                    <span class="show-for-sr">Next Slide</span>&#9654;
                                </button>

                                {% for video in user.youtube_links_aslist %}
                                <li class="{% if loop.index == 1%}is-active{% endif %} orbit-slide">
                                    <div class="flex-video">
                                        <iframe src="{{ video }}" frameborder="0" allowfullscreen></iframe>
                                    </div>
                                </li>
                                {% endfor %}

                            </ul>
                            <nav class="orbit-bullets">
                                {% for item in user.youtube_links_aslist %}
                                <button {% if loop.index0 == 0 %}class="is-active"{% endif %} data-slide="{{ loop.index0 }}">
                                    <span class="show-for-sr"></span>
                                </button>
                                {% endfor %}
                            </nav>
                        </div>

                    </div>

                    <hr>
                    <div class="section row column medium-8">
                        <h4 class="text-title"><i class="zmdi zmdi-collection-plus"></i> Additional Projects</h4>
                        {{ user.additional_details }}

                    </div>
                </div>
            </div>
            <hr>

            {% if current_user.is_authenticated %}
                <input type="submit" name="submit" class="button primary" value="Save" />
            {% endif %}
        </div>

        {% if current_user.is_authenticated %}
        </form>
        {% endif %}
    </div>
</div>
{% endblock %}
